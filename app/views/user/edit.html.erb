<div class="container">
  <% if @error %>
    <%= @error %>
  <% end %>
  <%= form_for @user, url: user_index_path do |f| %>

    <div class="form-group">
      <%= f.label :name %><br/>
      <%= f.text_field :name, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :description %><br/>
      <%= f.text_area :description, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :birth_date %><br/>
      <div class="form-inline">
        <%= f.date_select :birth_date,
                          {
                            include_blank: true,
                            start_year: 1900,
                            end_year: Time.current.year,
                            use_month_numbers: true,
                            date_separator: '&nbsp;/&nbsp;'
                          },
                          class: 'form-control' %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :gender %><br/>
      <% User.genders.each do |k, v| %>
        <div class="form-check form-check-inline">
          <%= f.label :"gender_#{v}" do %>
            <%= f.radio_button :gender, v, checked: @user.send("#{k}?") %>
            <%= User.human_attribute_name("gender.#{k}") %>
          <% end %>
        </div>
      <% end %>
    </div>

    <%= f.fields_for @address do |address_form| %>
      <div class="form-group">
        <%= address_form.label :postal_code %>
        <%= address_form.text_field :postal_code, class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= address_form.label :prefecture %>
        <%= address_form.text_field :prefecture, class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= address_form.label :city %>
        <%= address_form.text_field :city, class: 'form-control' %>
      </div>
    <% end %>

    <%= f.submit '登録する', class: 'btn btn-primary' %>
  <% end %>
</div>
